{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\python_projects\\\\efcon\\\\frontend\\\\src\\\\pages\\\\Calculation.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport CustomSelect from '../components/CustomSelect';\nimport PersonnelForm from '../forms/PersonnelForm';\nimport EquipmentForm from '../forms/EquipmentForm';\nimport ObjectsForm from '../forms/ObjectsForm';\nimport StatisticsForm from '../forms/StatisticsForm';\nimport PlanningForm from '../forms/PlanningForm';\nimport EfficiencyChart from '../components/EfficiencyChart';\nimport Recommendations from '../components/Recommendations';\nimport { departmentsAPI, personnelAPI, equipmentAPI, objectsAPI, statisticsAPI, planningAPI, calculationsAPI } from '../utils/api';\nimport '../styles/calculation.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Calculation = () => {\n  _s();\n  var _tabs$find;\n  const [activeTab, setActiveTab] = useState('staff');\n  const [subdivision, setSubdivision] = useState('');\n  const [subdivisions, setSubdivisions] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // Состояния для форм\n  const [personnelData, setPersonnelData] = useState({});\n  const [equipmentData, setEquipmentData] = useState({});\n  const [objectsData, setObjectsData] = useState({});\n  const [statisticsData, setStatisticsData] = useState({});\n  const [planningData, setPlanningData] = useState({});\n\n  // Состояния для результатов\n  const [calculationResult, setCalculationResult] = useState(null);\n  const [efficiency, setEfficiency] = useState(null);\n  const [recommendations, setRecommendations] = useState([]);\n  useEffect(() => {\n    const fetchSubdivisions = async () => {\n      try {\n        const response = await departmentsAPI.getAll();\n        setSubdivisions(response.data);\n        if (response.data.length > 0) {\n          setSubdivision(response.data[0].id);\n        }\n      } catch (error) {\n        console.error(\"Ошибка загрузки подразделений\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchSubdivisions();\n  }, []);\n  useEffect(() => {\n    if (subdivision) {\n      // Загружаем данные для выбранного подразделения\n      const fetchData = async () => {\n        try {\n          const [personnel, equipment, objects, statistics, planning, results] = await Promise.allSettled([personnelAPI.get(subdivision), equipmentAPI.get(subdivision), objectsAPI.get(subdivision), statisticsAPI.get(subdivision), planningAPI.get(subdivision), calculationsAPI.getResults(subdivision) // Загружаем результаты расчета\n          ]);\n          if (personnel.status === 'fulfilled') setPersonnelData(personnel.value.data);\n          if (equipment.status === 'fulfilled') setEquipmentData(equipment.value.data);\n          if (objects.status === 'fulfilled') setObjectsData(objects.value.data);\n          if (statistics.status === 'fulfilled') setStatisticsData(statistics.value.data);\n          if (planning.status === 'fulfilled') setPlanningData(planning.value.data);\n          if (results.status === 'fulfilled') {\n            setCalculationResult(results.value.data);\n            // Здесь можно обновить `efficiency` и `recommendations` из результатов\n            // Пример: setEfficiency(results.value.data.efficiency);\n            // Пример: setRecommendations(results.value.data.recommendations);\n          }\n        } catch (error) {\n          console.error(\"Ошибка загрузки данных\", error);\n        }\n      };\n      fetchData();\n    }\n  }, [subdivision]);\n  const handleSave = async (apiFunction, data) => {\n    if (!subdivision) {\n      alert(\"Сначала выберите подразделение\");\n      return;\n    }\n    try {\n      // Удаляем поля, которые не нужны бэкенду\n      const {\n        id,\n        department_id,\n        ...cleanData\n      } = data;\n\n      // Убедимся, что обязательные поля присутствуют (для personnel)\n      if (apiFunction === personnelAPI.save) {\n        const requiredFields = ['total_count', 'avg_experience', 'avg_age'];\n        requiredFields.forEach(field => {\n          if (cleanData[field] === undefined) {\n            cleanData[field] = 0;\n          }\n        });\n      }\n      await apiFunction(subdivision, cleanData);\n      alert(\"Данные сохранены успешно\");\n    } catch (error) {\n      console.error(\"Ошибка сохранения\", error);\n      alert(\"Ошибка сохранения данных\");\n    }\n  };\n  const handleCalculate = async () => {\n    if (!subdivision) {\n      alert(\"Сначала выберите подразделение\");\n      return;\n    }\n    try {\n      const response = await calculationsAPI.calculate(subdivision);\n      console.log(\"Результаты расчета:\", response.data);\n      setCalculationResult(response.data.calculation);\n      setEfficiency(response.data.calculation.efficiency);\n      setRecommendations(response.data.recommendations);\n      alert(\"Расчет завершен\");\n    } catch (error) {\n      console.error(\"Ошибка расчета\", error);\n      alert(\"Ошибка при выполнении расчета\");\n    }\n  };\n  const tabs = [{\n    id: 'staff',\n    label: 'Личный состав',\n    component: /*#__PURE__*/_jsxDEV(PersonnelForm, {\n      data: personnelData,\n      onChange: setPersonnelData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 55\n    }, this)\n  }, {\n    id: 'equipment',\n    label: 'Оснащение',\n    component: /*#__PURE__*/_jsxDEV(EquipmentForm, {\n      data: equipmentData,\n      onChange: setEquipmentData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 55\n    }, this)\n  }, {\n    id: 'supervision',\n    label: 'Объекты надзора',\n    component: /*#__PURE__*/_jsxDEV(ObjectsForm, {\n      data: objectsData,\n      onChange: setObjectsData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 63\n    }, this)\n  }, {\n    id: 'statistics',\n    label: 'Статистика',\n    component: /*#__PURE__*/_jsxDEV(StatisticsForm, {\n      data: statisticsData,\n      onChange: setStatisticsData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 57\n    }, this)\n  }, {\n    id: 'planning',\n    label: 'Планирование',\n    component: /*#__PURE__*/_jsxDEV(PlanningForm, {\n      data: planningData,\n      onChange: setPlanningData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 57\n    }, this)\n  }];\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calculation-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041A\\u0430\\u043B\\u044C\\u043A\\u0443\\u043B\\u044F\\u0442\\u043E\\u0440 \\u044D\\u0444\\u0444\\u0435\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\\u0441\\u0442\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CustomSelect, {\n        options: subdivisions.map(s => ({\n          value: s.id,\n          label: s.name\n        })),\n        value: subdivision,\n        onChange: setSubdivision\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tabs\",\n      children: tabs.map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab ${activeTab === tab.id ? 'active' : ''}`,\n        onClick: () => setActiveTab(tab.id),\n        children: tab.label\n      }, tab.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-content\",\n      children: (_tabs$find = tabs.find(t => t.id === activeTab)) === null || _tabs$find === void 0 ? void 0 : _tabs$find.component\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), calculationResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-section\",\n      children: [/*#__PURE__*/_jsxDEV(EfficiencyChart, {\n        efficiency: efficiency\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Recommendations, {\n        recommendations: recommendations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"secondary-btn\",\n        onClick: () => {\n          const currentTab = tabs.find(t => t.id === activeTab);\n          if (currentTab) {\n            let apiFunction;\n            switch (activeTab) {\n              case 'staff':\n                apiFunction = personnelAPI.save;\n                break;\n              case 'equipment':\n                apiFunction = equipmentAPI.save;\n                break;\n              case 'supervision':\n                apiFunction = objectsAPI.save;\n                break;\n              case 'statistics':\n                apiFunction = statisticsAPI.save;\n                break;\n              case 'planning':\n                apiFunction = planningAPI.save;\n                break;\n              default:\n                return;\n            }\n            const dataToSave = {\n              'staff': personnelData,\n              'equipment': equipmentData,\n              'supervision': objectsData,\n              'statistics': statisticsData,\n              'planning': planningData\n            }[activeTab];\n            handleSave(apiFunction, dataToSave);\n          }\n        },\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"primary-btn\",\n        onClick: handleCalculate,\n        children: \"\\u0420\\u0430\\u0441\\u0441\\u0447\\u0438\\u0442\\u0430\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n};\n_s(Calculation, \"UB8JFWtOwzH/iIcfCDFbj/iTMx4=\");\n_c = Calculation;\nexport default Calculation;\nvar _c;\n$RefreshReg$(_c, \"Calculation\");","map":{"version":3,"names":["React","useState","useEffect","CustomSelect","PersonnelForm","EquipmentForm","ObjectsForm","StatisticsForm","PlanningForm","EfficiencyChart","Recommendations","departmentsAPI","personnelAPI","equipmentAPI","objectsAPI","statisticsAPI","planningAPI","calculationsAPI","jsxDEV","_jsxDEV","Calculation","_s","_tabs$find","activeTab","setActiveTab","subdivision","setSubdivision","subdivisions","setSubdivisions","loading","setLoading","personnelData","setPersonnelData","equipmentData","setEquipmentData","objectsData","setObjectsData","statisticsData","setStatisticsData","planningData","setPlanningData","calculationResult","setCalculationResult","efficiency","setEfficiency","recommendations","setRecommendations","fetchSubdivisions","response","getAll","data","length","id","error","console","fetchData","personnel","equipment","objects","statistics","planning","results","Promise","allSettled","get","getResults","status","value","handleSave","apiFunction","alert","department_id","cleanData","save","requiredFields","forEach","field","undefined","handleCalculate","calculate","log","calculation","tabs","label","component","onChange","fileName","_jsxFileName","lineNumber","columnNumber","children","className","options","map","s","name","tab","onClick","find","t","currentTab","dataToSave","_c","$RefreshReg$"],"sources":["C:/dev/python_projects/efcon/frontend/src/pages/Calculation.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport CustomSelect from '../components/CustomSelect';\r\nimport PersonnelForm from '../forms/PersonnelForm';\r\nimport EquipmentForm from '../forms/EquipmentForm';\r\nimport ObjectsForm from '../forms/ObjectsForm';\r\nimport StatisticsForm from '../forms/StatisticsForm';\r\nimport PlanningForm from '../forms/PlanningForm';\r\nimport EfficiencyChart from '../components/EfficiencyChart';\r\nimport Recommendations from '../components/Recommendations';\r\nimport { departmentsAPI, personnelAPI, equipmentAPI, objectsAPI, statisticsAPI, planningAPI, calculationsAPI } from '../utils/api';\r\nimport '../styles/calculation.css';\r\n\r\nconst Calculation = () => {\r\n  const [activeTab, setActiveTab] = useState('staff');\r\n  const [subdivision, setSubdivision] = useState('');\r\n  const [subdivisions, setSubdivisions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Состояния для форм\r\n  const [personnelData, setPersonnelData] = useState({});\r\n  const [equipmentData, setEquipmentData] = useState({});\r\n  const [objectsData, setObjectsData] = useState({});\r\n  const [statisticsData, setStatisticsData] = useState({});\r\n  const [planningData, setPlanningData] = useState({});\r\n\r\n  // Состояния для результатов\r\n  const [calculationResult, setCalculationResult] = useState(null);\r\n  const [efficiency, setEfficiency] = useState(null);\r\n  const [recommendations, setRecommendations] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchSubdivisions = async () => {\r\n      try {\r\n        const response = await departmentsAPI.getAll();\r\n        setSubdivisions(response.data);\r\n        if (response.data.length > 0) {\r\n          setSubdivision(response.data[0].id);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Ошибка загрузки подразделений\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchSubdivisions();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (subdivision) {\r\n      // Загружаем данные для выбранного подразделения\r\n      const fetchData = async () => {\r\n        try {\r\n          const [personnel, equipment, objects, statistics, planning, results] = await Promise.allSettled([\r\n            personnelAPI.get(subdivision),\r\n            equipmentAPI.get(subdivision),\r\n            objectsAPI.get(subdivision),\r\n            statisticsAPI.get(subdivision),\r\n            planningAPI.get(subdivision),\r\n            calculationsAPI.getResults(subdivision), // Загружаем результаты расчета\r\n          ]);\r\n\r\n          if (personnel.status === 'fulfilled') setPersonnelData(personnel.value.data);\r\n          if (equipment.status === 'fulfilled') setEquipmentData(equipment.value.data);\r\n          if (objects.status === 'fulfilled') setObjectsData(objects.value.data);\r\n          if (statistics.status === 'fulfilled') setStatisticsData(statistics.value.data);\r\n          if (planning.status === 'fulfilled') setPlanningData(planning.value.data);\r\n          if (results.status === 'fulfilled') {\r\n            setCalculationResult(results.value.data);\r\n            // Здесь можно обновить `efficiency` и `recommendations` из результатов\r\n            // Пример: setEfficiency(results.value.data.efficiency);\r\n            // Пример: setRecommendations(results.value.data.recommendations);\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Ошибка загрузки данных\", error);\r\n        }\r\n      };\r\n\r\n      fetchData();\r\n    }\r\n  }, [subdivision]);\r\n\r\n  const handleSave = async (apiFunction, data) => {\r\n    if (!subdivision) {\r\n      alert(\"Сначала выберите подразделение\");\r\n      return;\r\n    }\r\n    try {\r\n      // Удаляем поля, которые не нужны бэкенду\r\n      const { id, department_id, ...cleanData } = data;\r\n\r\n      // Убедимся, что обязательные поля присутствуют (для personnel)\r\n      if (apiFunction === personnelAPI.save) {\r\n        const requiredFields = ['total_count', 'avg_experience', 'avg_age'];\r\n        requiredFields.forEach(field => {\r\n          if (cleanData[field] === undefined) {\r\n            cleanData[field] = 0;\r\n          }\r\n        });\r\n      }\r\n\r\n      await apiFunction(subdivision, cleanData);\r\n      alert(\"Данные сохранены успешно\");\r\n    } catch (error) {\r\n      console.error(\"Ошибка сохранения\", error);\r\n      alert(\"Ошибка сохранения данных\");\r\n    }\r\n  };\r\n\r\n  const handleCalculate = async () => {\r\n    if (!subdivision) {\r\n      alert(\"Сначала выберите подразделение\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await calculationsAPI.calculate(subdivision);\r\n      console.log(\"Результаты расчета:\", response.data);\r\n      setCalculationResult(response.data.calculation);\r\n      setEfficiency(response.data.calculation.efficiency);\r\n      setRecommendations(response.data.recommendations);\r\n      alert(\"Расчет завершен\");\r\n    } catch (error) {\r\n      console.error(\"Ошибка расчета\", error);\r\n      alert(\"Ошибка при выполнении расчета\");\r\n    }\r\n  };\r\n\r\n  const tabs = [\r\n    { id: 'staff', label: 'Личный состав', component: <PersonnelForm data={personnelData} onChange={setPersonnelData} /> },\r\n    { id: 'equipment', label: 'Оснащение', component: <EquipmentForm data={equipmentData} onChange={setEquipmentData} /> },\r\n    { id: 'supervision', label: 'Объекты надзора', component: <ObjectsForm data={objectsData} onChange={setObjectsData} /> },\r\n    { id: 'statistics', label: 'Статистика', component: <StatisticsForm data={statisticsData} onChange={setStatisticsData} /> },\r\n    { id: 'planning', label: 'Планирование', component: <PlanningForm data={planningData} onChange={setPlanningData} /> },\r\n  ];\r\n\r\n  if (loading) return <div>Загрузка...</div>;\r\n\r\n  return (\r\n    <div className=\"calculation-container\">\r\n      <h2>Калькулятор эффективности</h2>\r\n\r\n      <div className=\"input-form\">\r\n        <label>Выберите подразделение</label>\r\n        <CustomSelect\r\n          options={subdivisions.map(s => ({ value: s.id, label: s.name }))}\r\n          value={subdivision}\r\n          onChange={setSubdivision}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"tabs\">\r\n        {tabs.map(tab => (\r\n          <button\r\n            key={tab.id}\r\n            className={`tab ${activeTab === tab.id ? 'active' : ''}`}\r\n            onClick={() => setActiveTab(tab.id)}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"tab-content\">\r\n        {tabs.find(t => t.id === activeTab)?.component}\r\n      </div>\r\n\r\n      {/* Отображение результатов и рекомендаций */}\r\n      {calculationResult && (\r\n        <div className=\"results-section\">\r\n          <EfficiencyChart efficiency={efficiency} />\r\n          <Recommendations recommendations={recommendations} />\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"form-actions\">\r\n        <button\r\n          className=\"secondary-btn\"\r\n          onClick={() => {\r\n            const currentTab = tabs.find(t => t.id === activeTab);\r\n            if (currentTab) {\r\n              let apiFunction;\r\n              switch (activeTab) {\r\n                case 'staff': apiFunction = personnelAPI.save; break;\r\n                case 'equipment': apiFunction = equipmentAPI.save; break;\r\n                case 'supervision': apiFunction = objectsAPI.save; break;\r\n                case 'statistics': apiFunction = statisticsAPI.save; break;\r\n                case 'planning': apiFunction = planningAPI.save; break;\r\n                default: return;\r\n              }\r\n              const dataToSave = {\r\n                'staff': personnelData,\r\n                'equipment': equipmentData,\r\n                'supervision': objectsData,\r\n                'statistics': statisticsData,\r\n                'planning': planningData\r\n              }[activeTab];\r\n\r\n              handleSave(apiFunction, dataToSave);\r\n            }\r\n          }}\r\n        >\r\n          Сохранить\r\n        </button>\r\n        <button className=\"primary-btn\" onClick={handleCalculate}>\r\n          Рассчитать\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calculation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}